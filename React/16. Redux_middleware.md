### recap
- in `src/store/store.js` we use middleware and compose enhancer to create the store.
```
const middleWares = [logger];
const composeEnhancer = compose(applyMiddleware(...middleWares));
export const store = createStore(rootReducer, undefined, composeEnhancer);
```
- UI components get value from stroe through `useSelector` 

# what does middleware do in redux system?
- middleware lives in the middle of UI component and redux
- it receives action from dispatch, then pass action to next middleware, or to redux
- a middleware does 2 things:
```
// its own logic
logic();

// and pass the action through next()
next(action);
```

# execution order of `UI component`, `useEffect`, `useSelector`, `selector.js`
- think of the order here
```js
// UI component
const Category = () => {
  console.log("category component re-render");     // 1
  
  const { category } = useParams();
  const categoriesMap = useSelector(selectCategoriesMap);
  const [products, setProducts] = useState(categoriesMap[category]);

  useEffect(() => {
    console.log("useEffect");             // 4, after return() ***
    setProducts(categoriesMap[category]);
  }, [categoriesMap, category]);
  
  return (
    console.log("return")       // 3
    ...
  )
  
// selector.js
export const selectCategoriesMap = (state) => {
  console.log("categories selector");             // 2, since useSelector trigger this function
  return state.categories.categories
}
```
## weird part: what happened after useEffect gets called (4) ?
- we thought that, since state has 

